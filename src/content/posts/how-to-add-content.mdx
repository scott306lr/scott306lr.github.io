---
title: "How to add content (posts, projects, images, code)"
description: "A quick guide for adding new posts/projects, plus images and code blocks."
pubDate: 2026-01-11
tags: ["guide", "astro", "mdx"]
draft: false
---

import ServerOnlyHello from '../../components/react/ServerOnlyHello';
import CounterIsland from '../../components/react/CounterIsland';

This is a quick, practical checklist for adding content to this site.

<img src="https://placehold.co/1200x400.png" alt="Placeholder banner image" />

## 1) Create a post or project

Use the generator scripts when possible (they apply the template and frontmatter).

### Post

- Location: `src/content/posts/`
- File name: `my-post-slug.mdx`

```bash
npm run new:post -- my-post-slug 2026-01-11
```

### Project

- Location: `src/content/projects/`
- File name: `my-project-slug.mdx`

```bash
npm run new:project -- my-project-slug 2026-01-11
```

## 2) Add images

There are two approaches: “simple” (just copy a file) or “optimized” (Astro image pipeline).

### Option A (simple): serve from `public/`

1) Put files under `public/`, for example:

- `public/images/my-post/diagram.png`

2) Reference them from MDX with a plain `<img>`:

```mdx
<img src="/images/my-post/diagram.png" alt="Diagram" />
```

Example (rendered below):

<img src="https://placehold.co/800x450.png" alt="Diagram" />

This works because anything in `public/` is served from the site root.

### Option B (optimized): import from `src/assets/`

Use this when you want Astro’s `<Image />` optimization (formats like WebP, responsive sizing, etc.).

```mdx
---
import { Image } from 'astro:assets';
import figure from '../../assets/profile-placeholder.png';
---

<Image src={figure} alt="Example image" width={800} format="webp" />
```

Notes:
- The import path is relative to the `.mdx` file.
- Prefer this when performance/quality matters.

## 3) Add code snippets

### Code blocks

Use fenced code blocks:

```ts
export function hello(name: string) {
  return `Hello, ${name}`;
}
```

### Inline code

Use backticks for short commands/config keys: `npm run build`.

## 4) Island demo (Preact + React-compat)

This section is a reference example: how to embed a small interactive “island” in an otherwise static MDX post.

<div class="not-prose my-6 rounded-xl border bg-card p-5 shadow-sm">
  <div class="flex flex-col gap-1">
    <h3 class="text-base font-semibold leading-tight">Island demo</h3>
    <p class="text-sm text-muted-foreground">
      Server-only component + a hydrated counter. The counter uses <code>client:visible</code>.
    </p>
  </div>

  <div class="mt-4 rounded-lg border bg-background p-4">
    <ServerOnlyHello name="from an MDX blog post" />

    <div class="mt-3">
      <CounterIsland client:visible initial={0} />
    </div>
  </div>

  <details class="mt-4">
    <summary class="cursor-pointer text-sm font-medium">What’s happening here?</summary>
    <ul class="mt-2 list-disc space-y-1 pl-5 text-sm text-muted-foreground">
      <li><code>ServerOnlyHello</code> is server-rendered (no hydration, no shipped JS).</li>
      <li><code>CounterIsland</code> hydrates when it becomes visible (<code>client:visible</code>).</li>
      <li>The site uses Preact for islands, with <code>react</code> aliased to <code>preact/compat</code> so shadcn components can coexist.</li>
    </ul>
  </details>
</div>

## 5) Publish checklist

Before publishing:

- Ensure <code>draft: false</code> in the frontmatter.
- Sanity check locally:

```bash
npm run dev
npm run build
```
