---
title: "How to add content (posts, projects, images, code)"
description: "A quick guide for adding new posts/projects, plus images and code blocks."
pubDate: 2026-01-11
tags: ["guide", "astro", "mdx"]
draft: false
---

import ServerOnlyHello from '../../components/react/ServerOnlyHello';
import CounterIsland from '../../components/react/CounterIsland';

This post is a quick, practical checklist for adding new content.

<img
  src="https://placehold.co/1200x400.png"
  alt="Placeholder banner image"
/>

## 1) Add a new post / project

### Posts

- Folder: `src/content/posts/`
- Create: `my-post-slug.mdx`
- Best way (uses the template):

```bash
npm run new:post -- my-post-slug 2026-01-11
```

### Projects

- Folder: `src/content/projects/`
- Create: `my-project-slug.mdx`
- Best way:

```bash
npm run new:project -- my-project-slug 2026-01-11
```

## 2) Add and store images

You have two good options.

### Option A (simple): put images in `public/`

- Put images somewhere like: `public/images/my-post/diagram.png`
- Reference it from MDX with a normal `<img>` (fast and easy):

```mdx
<img src="https://placehold.co/800x450.png" alt="Diagram" />
```

Example (rendered below):

<img src="https://placehold.co/800x450.png" alt="Diagram" />

This works because everything in `public/` is served from the site root.

### Option B (optimized): import from `src/assets/`

If you want Astro image optimization (`<Image />`), store images in `src/assets/` and import them.
Example:

```mdx
---
import { Image } from 'astro:assets';
import figure from '../../assets/profile-placeholder.png';
---

<Image src={figure} alt="Example image" width={800} format="webp" />
```

Notes:
- The relative import path depends on where the MDX file lives.
- Use this when you care about responsive images/optimization.

## 3) Code blocks

Use fenced code blocks:

```ts
export function hello(name: string) {
  return `Hello, ${name}`;
}
```

For inline code, use backticks: `npm run build`.

## 4) Island demo (Preact + React-compat)

Below is a small interactive “island” embedded inside a normal MDX blog post.

<div class="not-prose my-6 rounded-xl border bg-card p-5 shadow-sm">
  <div class="flex flex-col gap-1">
    <h3 class="text-base font-semibold leading-tight">Island demo</h3>
    <p class="text-sm text-muted-foreground">
      Server-only component + a hydrated counter. The counter uses <code>client:visible</code>.
    </p>
  </div>

  <div class="mt-4 rounded-lg border bg-background p-4">
    <ServerOnlyHello name="from an MDX blog post" />

    <div class="mt-3">
      <CounterIsland client:visible initial={0} />
    </div>
  </div>

  <details class="mt-4">
    <summary class="cursor-pointer text-sm font-medium">What’s happening here?</summary>
    <ul class="mt-2 list-disc space-y-1 pl-5 text-sm text-muted-foreground">
      <li>
        <code>ServerOnlyHello</code> renders to HTML at build/SSR time and ships no client JS.
      </li>
      <li>
        <code>CounterIsland</code> hydrates when it becomes visible, so its JS loads only when needed.
      </li>
      <li>
        We use Preact for islands, with <code>react</code> imports aliased to <code>preact/compat</code> for shadcn.
      </li>
    </ul>
  </details>
</div>

## 5) When you are ready to publish

- Set `draft: false`
- Verify locally:

```bash
npm run dev
npm run build
```
