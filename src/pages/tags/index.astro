---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { getTagIndex } from '../../lib/tagIndex';

const tags = await getTagIndex();
---

<BaseLayout title="Tags" description="Browse by tag.">
	<h1 class="text-2xl font-bold tracking-tight">Tags</h1>
	<p class="mt-2 text-muted-foreground">Browse posts and works by topic.</p>

	<ul class="mt-6 flex flex-wrap gap-2">
		{tags.map((t) => (
			<li>
				<a
					href={`/tags/${t.slug}`}
					class="inline-flex items-center rounded-md border border-border bg-background px-2 py-1 text-sm no-underline hover:bg-accent hover:text-accent-foreground"
				>
					{t.label}
					<span class="ml-2 rounded-sm bg-muted px-1.5 py-0.5 text-xs text-muted-foreground">{t.count}</span>
				</a>
			</li>
		))}
	</ul>
</BaseLayout>
